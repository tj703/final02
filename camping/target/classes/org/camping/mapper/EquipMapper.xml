<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.camping.mapper.EquipMapper">
	


	<select id="getEquipCount" resultType="int"  parameterType="hashmap">
			<![CDATA[
		SELECT count(*) FROM 
		 (SELECT equipments.*  FROM 
  			(SELECT * FROM equipments ORDER BY num ASC) equipments ${category}
  			  AND (${brand})
  			  AND (${fil1})
  			  AND (${fil2})
  			  AND (${fil3})
  			  AND (${fil4})
  			  AND (${fil5})
  			  AND (${fil6})
  			  AND (${fil7})
  			  AND (${fil8})
  			  AND (${fil9})
  			  AND (${fil10})
  			  AND (${fil11})
  			  AND (${fil12})
  			) 
		]]>
		
	</select>
	
	
	<select id="getEquipList" resultType="org.camping.model.EquipDTO" parameterType="hashmap">
	
		<![CDATA[
		SELECT * FROM 
		 (SELECT equipments.* , ROWNUM r FROM 
  			(SELECT * FROM equipments ORDER BY num ASC) equipments ${category}
  			  AND (${brand})
  			  AND (${fil1})
  			  AND (${fil2})
  			  AND (${fil3})
  			  AND (${fil4})
  			  AND (${fil5})
  			  AND (${fil6})
  			  AND (${fil7})
  			  AND (${fil8})
  			  AND (${fil9})
  			  AND (${fil10})
  			  AND (${fil11})
  			  AND (${fil12})
  			)  WHERE r >= #{startRow} AND r <= #{endRow}
		]]>
		
	</select>
	
	
	
</mapper>